if date
  .divider= date
for item in messages || []
  div(id=item._id class=`chat-message-wrapper chat-message-wrapper_${item.role}`)
    .chat-message
      .chat-message-header
        .chat-message-user-info= item.username
        - const updated = item.updateTime && new Date(item.updateTime).toLocaleTimeString();
        - const created = new Date(item.createTime).toLocaleTimeString();
        .chat-message-date(title=updated ? updated : created)= updated ? `Edited ${updated}` : created
      .chat-message-body
        if item.imgSrc
          .chat-message-uploaded-img
            img(src=`${item.imgSrc}`)
        else
          .chat-message-text= item.text
      .chat-message-footer
        if item.role === 'owner'
          .chat-message-actions
            if !item.imgSrc
              button.icon-btn.edit-message-btn(type='button', onclick="editMessage('" + item._id + "')")
                i.fa.fa-pencil-square-o
            button.icon-btn.delete-message-btn(type='button', onclick="deleteMessage('" + item._id + "')")
              i.fa.fa-trash-o
